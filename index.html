<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hokkaido Ski Trip 2025-26</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* 隱藏捲軸但保留功能 */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-slate-900">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 簡易圖示元件 (因為沒有 npm，我們直接寫 SVG) ---
        const IconWrapper = ({ children, size = 16, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Plane = (props) => <IconWrapper {...props}><path d="M2 12h20"/><path d="M13 2l9 10-9 10"/><path d="M2 12l5-5m0 10l-5-5"/></IconWrapper>; // 簡化版飛機
        const PlaneIcon = (props) => <IconWrapper {...props}><path d="M2 22h20"/><path d="M12 2l-6 10h12L12 2z"/></IconWrapper>; // 替代圖示
        const Hotel = (props) => <IconWrapper {...props}><path d="M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"/><polyline points="10 2 10 22"/><polyline points="6 2 6 22"/><polyline points="14 2 14 22"/><polyline points="18 2 18 22"/></IconWrapper>; // 簡化
        const Snowflake = (props) => <IconWrapper {...props}><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line><path d="M20 16l-4-4 4-4"></path><path d="M4 8l4 4-4 4"></path><path d="M16 4l-4 4-4-4"></path><path d="M8 20l4-4 4 4"></path></IconWrapper>;
        const Bus = (props) => <IconWrapper {...props}><rect x="3" y="6" width="18" height="12" rx="2"/><circle cx="7" cy="18" r="2"/><circle cx="17" cy="18" r="2"/><path d="M3 11h18"/></IconWrapper>; // 簡化
        const MapPin = (props) => <IconWrapper {...props}><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></IconWrapper>;
        const Calendar = (props) => <IconWrapper {...props}><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></IconWrapper>;
        const CloudSnow = (props) => <IconWrapper {...props}><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M8 15h.01"/><path d="M8 19h.01"/><path d="M12 17h.01"/><path d="M12 21h.01"/><path d="M16 15h.01"/><path d="M16 19h.01"/></IconWrapper>;

        // --- 資料設定 ---
        const RESORTS = [
            { id: "teine", name: "札幌手稻 (Teine)", lat: 43.098, lon: 141.206 },
            { id: "hirafu", name: "二世谷 Hirafu", lat: 42.863, lon: 140.703 },
            { id: "tengu", name: "小樽天狗山", lat: 43.183, lon: 140.985 },
            { id: "onze", name: "Snow Cruise Onze", lat: 43.145, lon: 141.132 },
            { id: "asari", name: "朝里川溫泉", lat: 43.158, lon: 141.053 },
        ];

        const ITINERARY = [
            {
                date: "12/31",
                weekday: "週三",
                title: "啟程 & 小樽漫遊",
                highlight: "虎航 IT234",
                events: [
                    { time: "06:20", icon: <Plane size={16} />, text: "TPE 桃園 T1 起飛", sub: "IT234 (06:20 - 10:55)" },
                    { time: "10:55", icon: <MapPin size={16} />, text: "抵達新千歲 (CTS)", sub: "入境手續 & 領行李" },
                    { time: "13:00", icon: <Bus size={16} />, text: "JR/巴士前往小樽", sub: "欣賞沿途海景" },
                    { time: "15:00", icon: <Hotel size={16} />, text: "入住：OMO5 小樽", sub: "星野集團都市觀光飯店" }
                ]
            },
            {
                date: "01/01",
                weekday: "週四",
                title: "元旦首滑：手稻",
                highlight: "Teine Highland",
                events: [
                    { time: "09:00", icon: <Snowflake size={16} />, text: "札幌手稻滑雪場", sub: "奧運賽道體驗" },
                    { time: "17:00", icon: <Hotel size={16} />, text: "返回 OMO5 小樽", sub: "小樽運河晚餐" }
                ]
            },
            {
                date: "01/02",
                weekday: "週五",
                title: "遠征二世谷",
                highlight: "Big Run Bus",
                events: [
                    { time: "08:30", icon: <Bus size={16} />, text: "搭乘 Big Run Bus", sub: "直達二世谷 Hirafu" },
                    { time: "11:00", icon: <Snowflake size={16} />, text: "Hirafu 滑雪體驗", sub: "朝聖世界級粉雪" },
                    { time: "16:00", icon: <Bus size={16} />, text: "返回小樽", sub: "" }
                ]
            },
            {
                date: "01/03",
                weekday: "週六",
                title: "海景雙雪場特攻",
                highlight: "天狗山 + Onze",
                events: [
                    { time: "09:00", icon: <Snowflake size={16} />, text: "天狗山滑雪場", sub: "眺望小樽港絕景" },
                    { time: "13:00", icon: <Bus size={16} />, text: "移動至 Onze", sub: "車程約 30-40 分鐘" },
                    { time: "14:00", icon: <Snowflake size={16} />, text: "Snow Cruise Onze", sub: "一路滑到夜滑時段 (23:00)" }
                ]
            },
            {
                date: "01/04",
                weekday: "週日",
                title: "朝里川溫泉滑雪",
                highlight: "Asari Ski",
                events: [
                    { time: "09:00", icon: <Snowflake size={16} />, text: "朝里川溫泉滑雪場", sub: "寬廣雪道適合練功" },
                    { time: "18:00", icon: <Hotel size={16} />, text: "最後一晚小樽/札幌", sub: "整理裝備" }
                ]
            },
            {
                date: "